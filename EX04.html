<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <title>EX04</title>
  <style>
    body { 
      font-family: 'Segoe UI', Tahoma, sans-serif; 
      padding: 20px; 
      background: #f8fafc; 
    }
    h2 { color: #2563eb; }
    input, button { 
      margin: 5px; 
      padding: 8px 12px; 
      border-radius: 8px; 
      border: 1px solid #ccc; 
    }
    button {
      cursor: pointer;
      border: none;
      font-weight: bold;
    }
    button.add { background: #22c55e; color: white; }
    button.random { background: #3b82f6; color: white; }
    button.filter { background: #f59e0b; color: white; }
    button.clear { background: #ef4444; color: white; }

    .box { 
      border: 1px solid #ddd; 
      padding: 15px; 
      margin: 10px 0; 
      min-height: 50px; 
      border-radius: 10px; 
      background: white;
      box-shadow: 0 2px 6px rgba(0,0,0,0.05);
    }
    .title { 
      font-weight: bold; 
      margin-bottom: 5px; 
      color: #475569;
    }
    .flex { display: flex; gap: 20px; }
    .flex > .box { flex: 1; }
    #count, .highlight { font-weight: bold; color: #2563eb; }
  </style>
</head>
<body>
  <h2>EX04</h2>

  <!-- กรอกเลข -->
  <label>กรอกเลข (1–9):</label>
  <input type="number" id="inputNum" min="1" max="9">
  <button class="add" onclick="addNumber()">เพิ่มเลข</button>

  <br><br>

  <!-- สุ่มเลข -->
  <label>จำนวนตัวเลขที่จะสุ่ม:</label>
  <input type="number" id="randomCount" min="1">
  <button class="random" onclick="generateRandom()">สุ่มเลข</button>

  <br><br>

  <!-- filter -->
  <label>เลขที่ต้องการ Filter:</label>
  <input type="number" id="filterNum" min="1" max="9">
  <button class="filter" onclick="filterNumber()">Filter</button>
  <button class="clear" onclick="clearAll()">Clear</button>

  <h3>Array ที่ได้:</h3>
  <div id="arrayBox" class="box"></div>
  <p>จำนวนทั้งหมด: <span id="count">0</span></p>

  <h3>ผลลัพธ์ Filter:</h3>
  <div class="flex">
    <div class="box">
      <div class="title">ไม่มีใน Array</div>
      <div id="notExist"></div>
      <p>จำนวนที่ไม่พบ: <span id="notExistCount" class="highlight">0</span></p>
    </div>
    <div class="box">
      <div class="title">มีใน Array</div>
      <div id="exist"></div>
      <p>จำนวนที่พบ: <span id="existCount" class="highlight">0</span></p>
    </div>
  </div>

  <script>
    let arr = [];

    // เพิ่มเลข
    function addNumber() {
      const num = parseInt(document.getElementById("inputNum").value);
      if (!isNaN(num) && num >= 1 && num <= 9) {
        arr.push(num);
        showArray();
      } else {
        alert("กรอกเลข 1-9 เท่านั้น");
      }
      document.getElementById("inputNum").value = "";
    }

    // สุ่มเลข
    function generateRandom() {
      const count = parseInt(document.getElementById("randomCount").value);
      if (!isNaN(count) && count > 0) {
        for (let i = 0; i < count; i++) {
          arr.push(Math.floor(Math.random() * 9) + 1);
        }
        showArray();
      } else {
        alert("กรอกจำนวนที่จะสุ่ม (มากกว่า 0)");
      }
      document.getElementById("randomCount").value = "";
    }

    // แสดง array
    function showArray() {
      document.getElementById("arrayBox").innerText = arr.join(", ");
      document.getElementById("count").innerText = arr.length;
    }

    // Filter เลข
    function filterNumber() {
      const f = parseInt(document.getElementById("filterNum").value);
      if (isNaN(f)) {
        alert("กรอกเลขที่จะ filter");
        return;
      }

      const exist = arr.filter(n => n === f);
      const notExist = arr.filter(n => n !== f);

      document.getElementById("exist").innerText = exist.join(", ") || "ไม่มี";
      document.getElementById("notExist").innerText = notExist.join(", ") || "ไม่มี";
      document.getElementById("existCount").innerText = exist.length;
      document.getElementById("notExistCount").innerText = notExist.length;
    }

    // ล้างข้อมูลทั้งหมด
    function clearAll() {
      arr = [];
      document.getElementById("arrayBox").innerText = "";
      document.getElementById("exist").innerText = "";
      document.getElementById("notExist").innerText = "";
      document.getElementById("filterNum").value = "";
      document.getElementById("inputNum").value = "";
      document.getElementById("randomCount").value = "";
      document.getElementById("count").innerText = "0";
      document.getElementById("existCount").innerText = "0";
      document.getElementById("notExistCount").innerText = "0";
    }
  </script>
</body>
</html>
